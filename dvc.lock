schema: '2.0'
stages:
  load_data:
    cmd: python src\stage_01_load_and_save.py --config=params.yaml
    deps:
    - path: src/stage_01_load_and_save.py
      md5: b40890ed75e54852a7b5be4caf7a367c
      size: 1207
    - path: src/utils/common.py
      md5: e05893d4b846dd710b56f85ca3406e17
      size: 1221
    params:
      params.yaml:
        artifacts.raw_local_data: artifacts/raw_local_data_dir/data.csv
        data_source.source_directory: experiments/data.csv
    outs:
    - path: artifacts/raw_local_data_dir/data.csv
      md5: b6d3c5039b324187d446a25be74066e9
      size: 12689398
  split_data:
    cmd: python src/stage_02_split_data.py --config=params.yaml
    deps:
    - path: artifacts/raw_local_data_dir/data.csv
      md5: b6d3c5039b324187d446a25be74066e9
      size: 12689398
    - path: src/stage_02_split_data.py
      md5: f35f852b9bf00a36c33fdca1dedf98bc
      size: 1481
    - path: src/utils/common.py
      md5: e05893d4b846dd710b56f85ca3406e17
      size: 1221
    params:
      params.yaml:
        artifacts.raw_local_data: artifacts/raw_local_data_dir/data.csv
        artifacts.split_data.processed_data_dir: artifacts/processed_data
        artifacts.split_data.test_path: artifacts/processed_data/test.csv
        artifacts.split_data.train_path: artifacts/processed_data/train.csv
        base.random_state: 42
        base.test_size: 0.2
    outs:
    - path: artifacts/processed_data/test.csv
      md5: 842659109fe7361479e10f53750ceac1
      size: 2537798
    - path: artifacts/processed_data/train.csv
      md5: 041d1dfc0d6b46a3205fc5803d98f3ca
      size: 10151717
  train:
    cmd: python src/stage_03_train.py --config=params.yaml
    deps:
    - path: artifacts/processed_data/train.csv
      md5: 041d1dfc0d6b46a3205fc5803d98f3ca
      size: 10151717
    - path: src/stage_03_train.py
      md5: 015479c7cf5aaf1e4f6b23aaebcafcb9
      size: 2062
    - path: src/utils/common.py
      md5: e05893d4b846dd710b56f85ca3406e17
      size: 1221
    params:
      params.yaml:
        artifacts.split_data.train_path: artifacts/processed_data/train.csv
        base.random_state: 42
        base.target_col: Response
        estimators.RandomForestClassifier.params.n_estimators: 100
    outs:
    - path: artifacts/report/params.json
      md5: e2b2851498b28933da31564479185b5e
      size: 29
    - path: artifacts/saved_models/model.joblib
      md5: ffb4427c0f1e628a87a4dd46a774fa5c
      size: 454669856
  evaluate:
    cmd: python src/stage_04_evaluate.py --config=params.yaml
    deps:
    - path: artifacts/processed_data/test.csv
      md5: 842659109fe7361479e10f53750ceac1
      size: 2537798
    - path: artifacts/saved_models/model.joblib
      md5: ffb4427c0f1e628a87a4dd46a774fa5c
      size: 454669856
    - path: src/stage_04_evaluate.py
      md5: a57154b39c5da1afb3dfe2623b371c16
      size: 1942
    - path: src/utils/common.py
      md5: e05893d4b846dd710b56f85ca3406e17
      size: 1221
    params:
      params.yaml:
        artifacts.split_data.test_path: artifacts/processed_data/test.csv
        base.target_col: Response
    outs:
    - path: artifacts/report/scores.json
      md5: cc3afc1901620ce3a25017dd62c1405d
      size: 168
